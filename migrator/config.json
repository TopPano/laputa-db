{
    "migration_config": {
        "src_DB": {
            "url": "mongodb://host:port/db",
            "username": "user",
            "passwd": "pwd"
        
        },
        "dest_DB": {
            "url": "mongodb://host:port/db",
            "username": "user",
            "passwd": "pwd"
       
        },
        "target_colls": [
            "user", "userIdentity", "post", "like", "location", "follow"
        ]

    },


    "deletion_config": {
        "target_DB": {
            "url": "mongodb://52.196.191.110:27019/verpix_richard",
            "username": "richard",
            "passwd": "1234"
        },
        "policy": [
            {
                "target_coll": "post",
                "maps": [
                    {
                        "target_key": "ownerId", 
                        "map_to":{"relate_coll": "user", "key": "_id"}
                    }
                ]
            },
            {
                "target_coll": "like",
                "maps": [
                    {
                        "target_key": "postId", 
                        "map_to":{"relate_coll": "post", "key": "_id"}
                    }
                ]
            },
            {
                "target_coll": "like",
                "maps": [
                    {
                        "target_key": "userId", 
                        "map_to":{"relate_coll": "user", "key": "_id"}
                    }
                ]
            }
        ]
    },

    "S3_migration_config": {
        "target_S3": {
            "region": "ap-northeast-1",
            "src_bucket": "verpix-img-production",
            "dest_bucket": "verpix-img-development-base"
            },

        "target_DB": {
            "url": "mongodb://52.196.178.108:27019/verpix-db",
            "username": "verpix-api",
            "passwd": "1234"
            },

        "target_schemas": [
            {"coll": "user", "key":"profilePhotoUrl"},
            {"coll": "post", "key":"thumbnail.srcUrl"},
            {"coll": "post", "key":"thumbnail.downloadUrl"},
            {"coll": "post", "key":"media.srcUrl"},
            {"coll": "post", "key":"media.srcDownloadUrl"},
            {"coll": "post", "key":"media.srcMobileUrl"},
            {"coll": "post", "key":"media.srcMobileDownloadUrl"},
            {"coll": "post", "key":"media.srcTiledImages.srcUrl"},
            {"coll": "post", "key":"media.srcTiledImages.DownloadUrl"},
            {"coll": "post", "key":"media.srcMobileTiledImages.srcUrl"},
            {"coll": "post", "key":"media.srcMobileTiledImages.DownloadUrl"}
        ]
    }

}
